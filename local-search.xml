<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>搭建个人网站（3）：Hexo搭建网站</title>
    <link href="/2020/08/26/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%883%EF%BC%89%EF%BC%9AHexo%E6%90%AD%E5%BB%BABlog/"/>
    <url>/2020/08/26/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%883%EF%BC%89%EF%BC%9AHexo%E6%90%AD%E5%BB%BABlog/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Hexo 是一款使用Node.js的博客框架，可以使用它来快速生成静态网页，还有很多可选用的主题，也可以自己修改主题。</p><p>中文官网：<a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><p>在安装Hexo之前需要安装Node.js环境，Node.js 官网 <a href="https://nodejs.org/en/">https://nodejs.org/en/</a> 。</p><p>除了Node.js之外，还需要Git：<a href="https://git-scm.com/">https://git-scm.com/</a> 。</p><p>在国内的话下载速度可能很慢，可以使用淘宝镜像下载：<a href="https://npm.taobao.org/mirrors/node">淘宝 Node.js 镜像</a> , <a href="https://npm.taobao.org/mirrors/git-for-windows/">淘宝Git for Windows 镜像</a> 。</p><p>在配置好环境之后，就可以使用npm安装Hexo了：</p><pre><code class="hljs avrasm">$ npm install -g hexo-<span class="hljs-keyword">cli</span></code></pre><h2 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h2><p>安装完成后，在指定文件夹下新建一个个人博客只需要执行下面几条命令：</p><pre><code class="hljs powershell"><span class="hljs-variable">$</span> hexo init &lt;folder&gt;<span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> &lt;folder&gt;<span class="hljs-variable">$</span> npm install</code></pre><p>新建完成后，需要我们注意的文件和文件夹有以下几个：</p><ul><li>__config.yml：配置信息</li><li>scaffolds：模板文件夹，Hexo会使用其中的markdown文件作为模板来新建文件</li><li>source：存放资源的地方，里面有个_posts文件夹就是放blog的地方</li><li>themes：放主题的文件夹，下载的主题一般需要放在这个文件夹里面</li></ul><h2 id="部署到GitHub-Pages"><a href="#部署到GitHub-Pages" class="headerlink" title="部署到GitHub Pages"></a>部署到GitHub Pages</h2><p>如果希望使用开启了GitHub Pages的仓库来搭载Hexo生成的个人博客，需要更改__config.yml 中的 url 和 root。注意：这里只需要仓库开启GitHub Pages功能即可，也可以不在那个xxx.github.io里存放。</p><p>首先，需要配置__config.yml中的 deploy 部分，比如这里我是使用名为 blog 的仓库的 master 分支来存储网站的：</p><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span>  <span class="hljs-attr">repository:</span> <span class="hljs-string">https://github.com/Ahrisya/blog.git</span>  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span></code></pre><p>如果使用自定义域名的话，比如我在xxx.github.io中使用了自定义域名 <a href="https://ahrisy.com/">https://ahrisy.com</a>，但想在 blog 这个仓库里存放Hexo生成的网站，这时需要更改__config.yml的url和root如下即可：</p><pre><code class="hljs yaml"><span class="hljs-attr">url:</span> <span class="hljs-string">https://ahrisy.com/blog</span><span class="hljs-attr">root:</span> <span class="hljs-string">/blog/</span></code></pre><p>保存修改后，打开 git bash 执行下列命令即可：</p><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo g<span class="hljs-variable">$ </span>hexo d</code></pre><p>hexo g 的意思是生成网站，hexo d 的意思是部署到你指定的 url 上去。等待部署完成后即可在指定的url上看到自己的网站了。</p><p>PS：这时有可能会报错，大意是说 Deployer not found 之类的，这是因为没有安装和 hexo 配套的 git 插件导致的，只需要用如下命令安装之后再 hexo g&amp;d 即可：</p><pre><code class="hljs ada">$ npm intall hexo-deployer-git <span class="hljs-comment">--save</span></code></pre><h2 id="部署到-Vercel"><a href="#部署到-Vercel" class="headerlink" title="部署到 Vercel"></a>部署到 Vercel</h2><p>GitHub Pages 对国内的访客来说连接速度可能很慢，这时候我们可以使用Vercel来部署 Hexo blog。 在我的上一个blog：<a href="https://blog.ahrisy.com/2020/08/20/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%882%EF%BC%89%EF%BC%9AGithub%E5%92%8CVercel%E5%BB%BA%E7%AB%99%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AEDNS/">搭建个人网站（2）：Github和Vercel建站以及配置DNS </a> 中讲了如何使用Vercel以及使用自定义域名。</p><p>我们同样需要一个GitHub仓库，这里不需要开启GitHub Pages功能，然后将该仓库导入到 Vercel 中，设置好域名（也可以使用二级域名）。</p><p>在设置好域名之后，同样修改 __config.yml 的 deploy 部分到指定的 GitHub repo， 然后修改 url 到对应的域名即可。</p><p>这样在执行 hexo g&amp;d 之后，改动就会推送到 GitHub 仓库中，而 Vercel 会根据GitHub仓库的改动自动同步更新。</p><p>PS：<strong>如果不是子目录的话，不要修改root！</strong> 否则资源和网页的链接会出错。</p><h2 id="Hexo-常用命令"><a href="#Hexo-常用命令" class="headerlink" title="Hexo 常用命令"></a>Hexo 常用命令</h2><pre><code class="hljs elixir"><span class="hljs-variable">$ </span>hexo new <span class="hljs-string">&quot;文件名&quot;</span>  <span class="hljs-comment"># 新建文章</span><span class="hljs-variable">$ </span>hexo g  <span class="hljs-comment"># 生成静态网页</span><span class="hljs-variable">$ </span>hexo s  <span class="hljs-comment"># 本地预览</span><span class="hljs-variable">$ </span>hexo d  <span class="hljs-comment"># 部署</span></code></pre><p>接下来就是配置模板以及使用 Hexo + Typora 写 blog 需要注意的一些事了。</p>]]></content>
    
    
    <categories>
      
      <category>建站</category>
      
    </categories>
    
    
    <tags>
      
      <tag>建站</tag>
      
      <tag>Vercel</tag>
      
      <tag>Hexo</tag>
      
      <tag>Github</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>搭建个人网站（2）：Github和Vercel建站以及配置DNS</title>
    <link href="/2020/08/20/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%882%EF%BC%89%EF%BC%9AGithub%E5%92%8CVercel%E5%BB%BA%E7%AB%99%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AEDNS/"/>
    <url>/2020/08/20/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%882%EF%BC%89%EF%BC%9AGithub%E5%92%8CVercel%E5%BB%BA%E7%AB%99%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AEDNS/</url>
    
    <content type="html"><![CDATA[<p>在购买好自定义域名之后，下一步就是去找个服务器来放置我们的网站了，但国内服务器要备案，国外的服务器又贵，既不想备案又不想花钱的话，那 <a href="https://pages.github.com/">GitHub Pages</a> 是个不错的选择。</p><p>但GitHub的问题在于国内访问速度很慢，如果主要是面向国内的话建议使用 <a href="https://vercel.com/">Vercel</a> （原本叫Zeit）。Github Pages的教程已经够多了，但Vercel的教程很少，所以这里主要讲如何用 GitHub + Vercel配置个人网站。</p><h2 id="Why-Vercel"><a href="#Why-Vercel" class="headerlink" title="Why Vercel"></a>Why Vercel</h2><p>相比于GitHub Pages，国内访问Vercel的速度更快，而且无需科学上网，下面是我自己的一个网站使用Vercel前后速度的对比（使用了二级域名，vercel似乎并不能将一个仓库的站点作为另一个仓库的子目录），访问速度平均提升近7倍。</p><p><img src="newspeed.jpg"></p><h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><p>如果没有GitHub账号的话需要申请一个，注意<strong>不要使用QQ邮箱作为主邮箱</strong>，因为Vercel会自动拒绝使用QQ邮箱的账号。如果已经用QQ邮箱注册了GitHub，可以到Setting -&gt; Emails里修改自己的主邮箱。</p><p>然后在GitHub里建一个仓库来存放自己的网页，仓库的名字可以随便取，然后可以上传个index.html方便之后预览，e.g.</p><p><img src="gitrepo.jpg" alt="gitrepo"></p><h2 id="Vercel"><a href="#Vercel" class="headerlink" title="Vercel"></a>Vercel</h2><p>建立好GitHub repo之后，就可以去配置Vercel了。</p><p>进入<a href="https://vercel.com/home">Vercel官网</a>，点击主页上那个大大的Start Deploying，它会让你选择一种登录Vercel的方法，支持使用GitHub，GitLab和Bitbucket登录，这里我们选GitHub，然后就会看到下面的页面：</p><p><img src="import_github.jpg" alt="import github"></p><p>输入用来存放网站的GitHub Repo的地址，然后点Continue，他会让你选择包含source code的文件：</p><p><img src="importpj.jpg"></p><p>（PS：如果是第一次使用Vercel的话，上面两步里会弹出在GitHub中安装vercel的许可，同意即可）</p><p>这里我们没啥source code，所以直接continue即可，就会出现下面的页面：</p><p><img src="importsetting.jpg"></p><p>如果你需要编译souce code的话，可以看看framework preset里有没有设定好的配置，如果是像我这样只是个静态网页，直接打开index.html就可以使用的话就选择other，然后build command打开override，里面什么也不用填，这样vercel就会直接将你的网站呈现出来，不进行改动。</p><p>设置好之后点Deploy即可。</p><p>顺利的话稍等片刻就会弹出部署成功的页面，还有浮夸的撒花233。</p><p><img src="success.jpg"></p><p>如果一直显示queued的话，可以联系vercel的support，回复速度很快，基本一天就能解决（记得查邮箱）。</p><p>部署完成之后可以点击visit进入网页看看效果：</p><p><img src="preview.jpg"></p><h2 id="配置自定义域名"><a href="#配置自定义域名" class="headerlink" title="配置自定义域名"></a>配置自定义域名</h2><p>进入这个deployment的界面：</p><p><img src="project.jpg"></p><p>点View Domains就会直接跳到配置域名的选项：</p><p><img src="domain.jpg"></p><p>输入自己的域名，然后点Add，它会弹出来一些需要做的配置，接下来需要去我们的域名提供商那里根据Vercel给出的要求进行配置。</p><p>我是在NameSilo购买的域名，所以就进入NameSilo的管理页面：</p><p><img src="namesilo.jpg"></p><p>选中需要配置的域名，点击上方的Change Nameservers可以更换Name server（我这里已经改过了），点击右侧小小的蓝球可以配置DNS。</p><p>把Name Servers改成Vercel提供的两个server</p><p><img src="nameserver.jpg"></p><p>这个配置会在48个小时内生效，我的话十几分钟就生效了。</p><p>然后按Vercel的要求把DNS改为：</p><p><img src="DNS.jpg"></p><p>这个会在15分钟内生效。</p><p>等这两个改动都生效之后就可以用我们自己的域名访问刚刚建立的网站啦~</p><p>以后想要修改网站的话，只需要将改动push到GitHub上，vercel会自动把改动同步过来，完全不用管，超省心。</p><p>在一级域名配置好之后，也可以直接在vercel中使用二级域名，无需进行额外设置。</p>]]></content>
    
    
    <categories>
      
      <category>建站</category>
      
    </categories>
    
    
    <tags>
      
      <tag>建站</tag>
      
      <tag>DNS</tag>
      
      <tag>GitHub</tag>
      
      <tag>Vercel</tag>
      
      <tag>NameSilo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>搭建个人网站（1）：申请域名</title>
    <link href="/2020/08/17/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%881%EF%BC%89%EF%BC%9A%E7%94%B3%E8%AF%B7%E5%9F%9F%E5%90%8D/"/>
    <url>/2020/08/17/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%EF%BC%881%EF%BC%89%EF%BC%9A%E7%94%B3%E8%AF%B7%E5%9F%9F%E5%90%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>域名（Domain Name）就是大家经常输入的 xxx.com，xxx.cn 之类的网址啦，而各个教程和平台中常见的简写DNS（Domain Name Server） 就是域名服务器，它搭载了网域名称系统（Domain Name System，是将域名和IP地址相互映射的系统）。当用户输入域名时，DNS就会通过将域名转换为IP地址提供给机器处理，类似于一个手机里号码簿之类的存在。</p><p>所以建立网站，首先就要购买一个域名（没有人会想记一串IP地址的），国内的话可以选用阿里云、腾讯云之类的平台，但在国内购买域名的话需要实名认证，如果使用国内的服务器搭建网站的话还需要备案。在备案之后，别人就可以在域名备案查询网站（比如 <a href="http://icp.chinaz.com/">http://icp.chinaz.com/</a> ）上看到你的个人信息，e.g. </p><p><img src="icp.png"></p><p>个人是很反感这种情况的，毕竟自己的隐私还是想尽可能地保护好，所以国内的域名和服务器就不做考虑了，国外购买域名的话个人对比了下面这几家：</p><ul><li><p><a href="https://www.namesilo.com/">NameSilo</a> 似乎最近发展不错，价格很是便宜，提供免费的Whols Privacy（域名隐私保护）等功能，支持支付宝和微信，就是网站界面有点丑。我选的就是这家，新用户的话可以用这个优惠码：<strong>asns2020</strong>，直接复制在付款时粘贴到对应的coupon框里面就可以了。</p></li><li><p><a href="https://www.godaddy.com/">GoDaddy</a>  规模很大，价格尚可，大部分域名第一年有优惠，但Whois Privacy需要另加价购买，总价付款渠道很多，支付宝也可以用。</p></li><li><p><a href="%22https://www.namecheap.com/%22">Namecheap</a> 价格和NameSilo比要稍微贵一些。</p></li><li><p><a href="https://www.domain.com/">Domain</a> 价格贵了，而且不支持支付宝和微信，所以不考虑。</p></li></ul><h2 id="NameSilo-域名购买流程"><a href="#NameSilo-域名购买流程" class="headerlink" title="NameSilo 域名购买流程"></a>NameSilo 域名购买流程</h2><ul><li><p>Step 1：进入<a href="https://www.namesilo.com/">NameSilo主页</a> ，搜索你想要的域名，选到想要的之后点右边的Add，然后它就会变成Checkout。</p><p><img src="add_domains.jpg"></p></li><li><p>选好喜欢的域名之后，点Checkout就会显示下面的页面。</p><p><img src="checkout.jpg"></p></li><li><p>前两个不用管，Auto-Renew的意思就是到期了自动续费，Privacy Setting那里选WHOIS Privacy，把coupon输入后点submit，它就会给个1刀的discount啦。</p></li><li><p>完成之后点Continue进行付款，如果是第一次使用的话需要注册一个账号，按提示来就可以了。</p></li><li><p>注册完账号，付完款后点击右上角的Manage My Domains，就可以看到我们的域名啦~</p><p><img src="domain.jpg"></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>建站</category>
      
    </categories>
    
    
    <tags>
      
      <tag>建站</tag>
      
      <tag>NameSilo</tag>
      
      <tag>域名</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>搭好个人博客了</title>
    <link href="/2020/08/16/%E6%90%AD%E5%A5%BD%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%BA%86/"/>
    <url>/2020/08/16/%E6%90%AD%E5%A5%BD%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<p>终于弄好博客和个人网站了，网上很多教程都过时了，还得自己去看官方文档。之后会把这段时间踩的坑整理一下发出来，给想搭网站的小伙伴分享一下。</p><p>尽量每周都能更一点东西吧……（咕咕咕警告）</p>]]></content>
    
    
    <categories>
      
      <category>碎碎念</category>
      
    </categories>
    
    
    <tags>
      
      <tag>碎碎念</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
